
# 空间解析几何

## 数量积、向量积、混合积

$$数量积：\textbf{a}\cdot\textbf{b}=|\textbf{a}|\cdot|\textbf{b}|\cos\theta$$
$$向量积：\textbf{a}\times \textbf{b}=
\left|
\begin{array}{ccc}
\textbf{i}&\textbf{j}&\textbf{k}\\
\\
a_1&a_2&a_3\\
\\
b_1&b_2&b_3
\end{array}
\right|\\
\ \\
|\textbf{a}\times\textbf{b}|=|\textbf{a}|\cdot|\textbf{b}|\cdot\sin(\widehat{\textbf{a},\textbf{b}})\quad （平行四边形面积）$$
$$混合积：[abc]=(a\times b)\cdot c=
\left|
\begin{array}{ccc}
a_x&a_y&a_z\\
\\
b_x&b_y&b_z\\
\\
c_x&c_y&c_z
\end{array}
\right|\quad（六面体体积）$$

## 垂直、平行的向量表示
$$\mathbf{s_1}=(m_1,n_1,p_1),\mathbf{s_2}=(m_2,n_2,p_2)$$

$$\mathbf{s_1}\parallel\mathbf{s_2}\Leftrightarrow \mathbf{s_1}\times\mathbf{s_2}=\mathbf{0}\Leftrightarrow \frac{m_1}{m_2}=\frac{n_1}{n_2}=\frac{p_1}{p_2}\\
$$
$$\mathbf{s_1}\perp\mathbf{s_2}\Leftrightarrow \mathbf{s_1}\cdot\mathbf{s_2}=m_1m_2+n_1n_2+p_1p_2=0$$

## 点到直线、平面距离

$$平面：d_{线}=\frac{|Ax_0+By_0+C|}{\sqrt{A^2+B^2}}\\
空间：d_{线}=\frac{|\textbf{s}\times \overrightarrow{MM_1}|}{|\textbf{s}|}\qquad点M_1(x_1,y_1,z_1)到直线L:\frac{x-x_0}{m}=\frac{y-y_0}{n}=\frac{z-z_0}{p}的距离$$
$$d_{面}=\frac{|Ax_0+By_0+Cz_0+D|}{\sqrt{A^2+B^2+C^2}}$$

## 直线方程的三种形式

$$点向式：\frac{x-x_0}{l}=\frac{y-y_0}{m}=\frac{z-z_0}{n}\\
参数式：\left\{
\begin{array}{l}
x=x_0+lt\\
y=y_0+mt\\
z=z_0+nt
\end{array}
\right.\\
两点式：\frac{x-x_1}{x_2-x_1}=\frac{y-y_1}{y_2-y_1}=\frac{z-z_1}{z_2-z_1}$$

## 平面方程的三种形式

$$一般式：Ax+By+Cz+D=0$$
$$点法式：A(x-x_0)+B(y-y_0)+C(z-z_0)=0$$
$$截距式：\frac{x}{a}+\frac{y}{b}+\frac{z}{c}=1$$

## 空间曲线的切线与法平面

$$参数方程\left\{
\begin{array}{l}
x=\varphi(t)\\
y=\psi(t)\\
z=\omega(t)
\end{array}
\right.\\切向量:
\boldsymbol{\tau}=(\varphi'(t),\psi'(t),\omega'(t))\\
法平面:
\varphi'(t)(x-x_0)+\psi'(t)(y-y_0)+\omega'(t)(z-z_0)=0
$$

$$交面式方程\left\{
\begin{array}{l}
F(x,y,z)=0\\
G(x,y,z)=0
\end{array}
\right.\\
切向量：\boldsymbol{\tau}=\left|
\begin{array}{ccc}
\textbf{i}&\textbf{j}&\textbf{k}\\
F'_x& F'_y&F'_z\\
G'_x & G'_y&G'_z
\end{array}
\right|_{(x_0,y_0,z_0)}\quad （与空间直线方向向量同理）\\
法平面：......$$

## 空间曲面的法线与切平面

$$法向量：\textbf{n}=(F'_x,F'_y,F'_z)\big|_{(x_0,y_0.z_0)},\textbf{n}=(z'_x,z'_y,-1)或(-z'_x,-z'_y,1)\big|_{(x_0,y_0.z_0)}$$
$$法线：\frac{x-x_0}{F'_x(x_0,y_0,z_0)}=\frac{y-y_0}{F'_y(x_0,y_0,z_0)}=\frac{z-z_0}{F'_z(x_0,y_0,z_0)}$$
$$法平面：F'_x(x_0,y_0,z_0)(x-x_0)+F'_y(x_0,y_0,z_0)(y-y_0)+F'_z(x_0,y_0,z_0)(z-z_0)=0$$

## 梯度与方向导数

$$三元函数u=u(x,y,z)$$
$$梯度：\textbf{grad}\ u\bigg|_{P_0}=(u'_x,u'_y,u'_z)\big|_{P_0}$$
$$方向导数：\\
\frac{\partial u}{\partial \boldsymbol{l}}\bigg|_{P_0}=u'_x\cos\alpha+u'_y\cos\beta+u'_z\cos\gamma\big|_{P_0}=\boldsymbol{l^0}\cdot \textbf{grad}\ u\\
(\cos\alpha,\cos\beta,\cos\gamma)为方向\boldsymbol{l^0}的方向余弦\\
即梯度向量在单位方向向量\boldsymbol{l^0}上的投影\\
定义法（偏导不连续时）：\frac{\partial u}{\partial l}=\lim\limits_{t\to0^+}\frac{f(\cos\alpha t+x_0,\cos\beta t+y_0,\cos\gamma t+z_0)-f(x_0,y_0,z_0)}{t}$$
$$注：方向导数在与梯度同向时取得最大值$$

## 方向导数取最大值题型

**在某方向向量上取得最大方向导数，即梯度与方向向量同向**
$$f(x,y,z)=axy^2+byz+cx^3z^2在点P(1,2,-1)处的方向导数沿z轴正向\boldsymbol{l}取得最大值$$
$$\textbf{grab}\ f=(f'_x,f'_y,f'_z)\big|_P=\lambda \boldsymbol{l}=\lambda(0,0,1)$$
**在某曲线（曲面）取得最大方向导数，即梯度取得最大值**
$$||\textbf{grab}\ f||的条件最值问题$$

## 梯度与等值线（面）的关系

$$z=x^2+y^2在(1,0)处的梯度方向（z数值由低到高）：\\
沿曲线x^2+y^2=1在(1,0)处的外法线方向（z越大，等值线越大）$$
$$u=4x^2+y^2+z^2-6在点M(1,1,1)的梯度方向：\\
沿曲面S：4x^2+y^2+z^2-6=0的外法线方向（u越大，等值面越大）$$
$$关键：函数u=F(x,y,z)的梯度是等值面F(x,y,z)=c的法向量（u增大方向）$$

## 场论公式
$$散度\text{div} A、旋度\textbf{rot\ A}$$

$$向量场(P(x,y,z),Q(x,y,z),R(x,y,z))$$
$$
\text{div}\ \textbf{A}=\frac{\partial P}{\partial x}+\frac{\partial Q}{\partial y}+\frac{\partial R}{\partial z}$$
$$\textbf{rot A}=
\left|
\begin{array}{}
\textbf{i}&\textbf{j}&\textbf{k}\\
\\
\frac{\partial}{\partial x}&\frac{\partial}{\partial y}&\frac{\partial}{\partial z}\\
\\
P&Q&R
\end{array}
\right|$$

## 平面束方程

$$直线L：
\left\{
\begin{array}{l}
x+y+2z+1=0\\
2x+4y+z-3=0
\end{array}
\right.\\
过直线L的所有平面可表示为（构成原直线的两平面不平行）：\\
x+y+2z+1+\lambda(2x+4y+z-3)=0\\
法向式原理：
(1+2\lambda,1+4\lambda,2+\lambda)与直线L垂直且任意，并作为平面法向量$$

## 空间直线方程的转化
$$一般方程\rightleftharpoons点向式方程、参数方程$$

**一般式转化：**
$$一般式方程\left\{
\begin{array}{l}
A_1x+B_1y+C_1z+D_1=0\\
A_2x+B_2y+C_2z+D_2=0
\end{array}
\right.\\
1. 叉乘确定向量\boldsymbol{\tau}=(A_1,B_1,C_1)\times(A_2,B_2,C_2)\\
2. 确定一个直线上的点(0,y_0,z_0)$$
**点向式、参数方程转化：**
$$点向式方程、参数方程\\
已知点P(x_0,y_0,z_0)，向量\boldsymbol{\tau}=(l,m,n)\\
任意两组等式
\left\{
\begin{array}{l}
\frac{x-x_0}{l}=\frac{y-y_0}{m}\\
\frac{y-y_0}{m}=\frac{z-z_0}{n}
\end{array}
\right.\Rightarrow
\left\{
\begin{array}{l}
m(x-x_0)-l(y-y_0)=0\\
n(y-y_0)-m(z-z_0)=0
\end{array}
\right.$$

## 平面曲线绕坐标轴旋转所得曲面（一般式）

**灵活利用此性质分析曲面形状**
$$坐标平面yOz中有曲线f(y,z)=0\\
绕z轴旋转:|y|=\sqrt{x^2+y^2}\rightarrow y=\pm\sqrt{x^2+y^2}\\
故f(\pm\sqrt{x^2+y^2},z)=0\\
z=y^2绕z轴旋转\rightarrow z=(\pm \sqrt{x^2+y^2})^2=x^2+y^2$$
$$注：
z=2-\sqrt{x^2+y^2}由z=2-y或z=2+y绕z轴转成\\
（针对z而言，y为正取\sqrt{x^2+y^2}，y为负取-\sqrt{x^2+y^2}）\\
$$

## 曲线绕坐标轴旋转所得曲面（参数方程）

**参数方程法**
$$例：
直线L的参数方程
\left\{
\begin{array}{l}
x=1\\
y=t\\
z=1+2t
\end{array}
\right.其上一点P(x_0,y_0,z_0)转至P(x, y, z)时，有\\
\left\{
\begin{array}{l}
x_0^2+y_0^2=x^2+y^2=1+t^2\\
z_0=z=2t+1（t反解代入）
\end{array}
\right.$$
$$注：空间中曲线的参数方程同理\\
坐标平面中直线的参数方程同理\quad xOy面y=x\quad
\left\{\begin{array}{l}
x=t\\
y=t\\
z=0
\end{array}\right.$$

## 曲线绕直线旋转

$$曲线上点M(x_1,y_1,z_1), F(x_1,y_1,z_1)=0\\
形成曲面上点P(x,y,z)\\
MP\cdot\tau=0\\
|QP|=|QM|\\
（Q为圆锥顶点）$$
